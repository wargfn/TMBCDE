{% extends 'base.html.twig' %}

{% block title %}TMB Build-A-Tyrants{% endblock %}

{% block body %}
    <div class="container-fluid">
        <h1>Build-A-Tyrants</h1>
        <p>The meanest of the Mean and the Baddest of the Bad, built by Lab Rats.</p>
        <table class="table table-borderless">
            <tr>
                <th>Id</th>
                <th>  </th>
                <th>Name</th>
                <th>Progress</th>
                <th>Days</th>
            </tr>
            {% if bats is defined and bats is not empty %}
                {% for bat in bats %}
                    <tr>
                        <td>{{ bat.id }}</td>
                        <td><a href="{{ path('bats_by_id', {'id':bat.id}) }}"><img src="{{ asset('/images/bats_chip.jpg') }}" width="100px" height="100px"></a></td>
                        <td><a href="{{ path('bats_by_id', {'id':bat.id}) }}">{{ bat.name }}</a></td>
                        <td>{{ bat.progress }}</td>
                        <td>{{ bat.days }}</td>
                    </tr>
                {% endfor %}
            {% if bats|length == 1 %}
                    <tr>
                        <td>{{ bats.id }}</td>
                        <td><a href="{{ path('bats_index') }}"><img src="{{ asset('/images/bats_chip.jpg') }}" width="100px" height="100px"></a></td>
                        <td><a href="{{ path('bats_index') }}">{{ bats.name }}</a></td>
                        <td>{{ bats.progress }}</td>
                        <td>{{ bats.days }}</td>
                    </tr>
                </table>
                <br>
               {% if encounters is defined and encounters is not empty %}
                <h4>Encounters featuring {{ bats.name }}</h4>

                <table class="table table-borderless">
                            <tr>
                                {#<th>Id</th>#}
                                {#<th>   </th>#}
                                <th>Name</th>
                                <th>Tyrant</th>
                                <th>Day 1</th>
                                <th>Day 2</th>
                                <th>Day 3</th>
                                <th>Day 4</th>
                                <th>Day 5</th>
                                <th>Day 6</th>
                                <th>Day 7</th>
                            </tr>
                        {% for encounter in encounters %}
                            <tr>
                                {#<td>{{ encounter.id }}</td>#}
                                {#<td><a href="{{ path('encounters_by_id', {'id':encounter.id}) }}"><img src="{{ asset('/images/'~encounter.tyrantid.name~'.jpg') }}" width="100px" height="100px"></a></td>#}
                                <td><a href="{{ path('encounters_by_id', {'id':encounter.id}) }}">{{ encounter.name }}</a></td>
                                <td>{{ encounter.tyrantid.name }}</td>
                                <td>{{ encounter.day1id.name }}</td>
                                <td>{{ encounter.day2id.name }}</td>
                                <td>{{ encounter.day3id.name }}</td>
                                <td>{{ encounter.day4id.name }}</td>
                                <td>{{ encounter.day5id.name }}</td>
                                <td>{{ encounter.day6id.name }}</td>
                                <td>{{ encounter.day7id.name }}</td>
                            </tr>
                        {% endfor %}
                        {% if encounters|length == 1 %}
                            <tr>
                                {#<td>{{ encounters.id }}</td>#}
                                {#<td><a href="{{ path('encounters_index', {'id':encounters.id}) }}"><img src="{{ asset('/images/'~encounters.tyrantid.name~'.jpg') }}" width="100px" height="100px"></a></td>#}
                                <td><a href="{{ path('encounters_index', {'id':encounters.id}) }}">{{ encounters.name }}</a></td>
                                <td>{{ encounters.batid.name }}</td>
                                <td>{{ encounters.day1id.name }}</td>
                                <td>{{ encounters.day2id.name }}</td>
                                <td>{{ encounters.day3id.name }}</td>
                                <td>{{ encounters.day4id.name }}</td>
                                <td>{{ encounters.day5id.name }}</td>
                                <td>{{ encounters.day6id.name }}</td>
                                <td>{{ encounters.day7id.name }}</td>
                            </tr>
                        {% endif %}
                    {% endif %}
                {% endif %}
            {% endif %}
        </table>
    </div>
{% endblock %}