{% extends 'base.html.twig' %}

{% block title %}Too Many Bones Community Events {% endblock %}

{% block body %}
    <div class="container-fluid">
        <div class="jumbotron col-lg-12"><h1>Welcome to the Unofficial Too Many Bones Community Events Site</h1>
            <p class="lead align-content-lg-center"><a href="https://chiptheorygames.com/ctgnews"><img class="align-content-center" src="images/toomanyboneslogo.png" alt="BaseSet" height="150" width="300"></a>
                <a href="https://chiptheorygames.com/store#!/Too-Many-Bones/c/22721100/offset=0&sort=normal"><img class="align-content-center" src="images/toomanybonesundertowlogo.png" alt="Undertow" height="150" width="330"></a>
                <a href="https://chiptheorygames.com/support"><img class="align-content-center" src="images/toomanybonessplicedicelogo.png" alt="Undertow" height="125" width="350"></a></p>
            <hr class="my-4">
            <p>Our goal is to provide a community resource that can be used by players to play against Splice and Dice Community creations and to provide exciting new adventures for the discerning gearloc.</p>
        </div>
        <div class="col-lg-12">
            <h2>Current Community Challenges</h2>
            {% if currentChallenges is defined and currentChallenges is not empty %}
                {% if currentChallenges|length > 1 %}
                    {{ dump(_context|keys) }}
                    {% for currentChallenge in currentChallenges %}
            <div class="row">
                <div class="col-lg4">
                    <div class="card border-primary mb-3" style="max-width: 20rem;">
                        <div class="card-header">{{ currentChallenge.description }}</div>
                        <div class="card-body">
                            <h4 class="card-title"><a href="{{ path('monthly_by_id', {'id':currentChallenge.id} ) }}">{{ currentChallenge.name }}</a></h4>
                            <a href="{{ path('monthly_by_id', {'id':currentChallenge.id} ) }}">
                            {% if currentChallenge.challengeset is same as('Base Set') %}
                            <img  class="align-content-center" src="{{ asset('images/toomanyboneslogo.png') }}" width="200px" height="100px">
                            {% endif %}
                            {% if currentChallenge.challengeset is same as('Undertow') %}
                                <img class="align-content-center" src="{{ asset('images/toomanybonesundertowlogo.png') }}" width="200px" height="100px">
                            {% endif %}
                            {% if currentChallenge.challengeset is same as('Splice & Dice') %}
                                <img class="align-content-center" src="{{ asset('images/toomanybonessplicedicelogo.png') }}" width="200px" height="100px">
                            {% endif %}
                            </a>
                            <p></p>
                            <p class="card-text">{{ currentChallenge.challengeset }} - {{ currentChallenge.challengetype }}</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-1"></div>
                    {% endfor %}
                {% endif %}
                {% if currentChallenges|length == 1 %}
                <div class="col-lg-1"></div>
                <div class="col-lg4">
                    <div class="card border-primary mb-3" style="max-width: 20rem;">
                        <div class="card-header">{{ currentChallenges[0].description }}</div>
                        <div class="card-body">
                            <h4 class="card-title"><a href="{{ path('monthly_by_id', {'id':currentChallenges[0].id} ) }}">{{ currentChallenges[0].name }}</a></h4>
                            <a href="{{ path('monthly_by_id', {'id':currentChallenges[0].id} ) }}">
                                {% if currentChallenges[0].challengeset is same as('Base Set') %}
                                    <img  class="align-content-center" src="{{ asset('images/toomanyboneslogo.png') }}" width="200px" height="100px">
                                {% endif %}
                                {% if currentChallenges[0].challengeset is same as('Undertow') %}
                                    <img class="align-content-center" src="{{ asset('images/toomanybonesundertowlogo.png') }}" width="200px" height="100px">
                                {% endif %}
                                {% if currentChallenges[0].challengeset is same as('Splice & Dice') %}
                                    <img class="align-content-center" src="{{ asset('images/toomanybonessplicedicelogo.png') }}" width="200px" height="100px">
                                {% endif %}
                            </a>
                            <p></p>
                            <p class="card-text">{{ currentChallenges[0].challengeset }} - {{ currentChallenges[0].challengetype }}</p>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
            {% else %}
                <div class="row">Unfortunately, does not look like there are any currently active challenges.</div>
            {% endif %}
        </div>
    </div>
{% endblock %}